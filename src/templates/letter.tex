\documentclass[a4paper,11pt]{article}
\usepackage[margin=2cm]{geometry}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{array}
\usepackage{caption}
\usepackage{tabularx}
\usepackage{graphicx}
\usepackage{helvet}
\renewcommand{\familydefault}{\sfdefault}
\usepackage[table]{xcolor}
\usepackage{siunitx}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage[normalem]{ulem}

\usepackage{xcolor}
\definecolor{linkblue}{RGB}{70, 130, 230}
\usepackage[colorlinks=true, urlcolor=linkblue]{hyperref}
\usepackage[most]{tcolorbox}

\definecolor{nimred}{RGB}{130, 0, 0}

\usepackage{config-defaults}

% Load (and override defaults)
\IfFileExists{config.tex}{%
  \input{config.tex}%
}{%
  % Silent fallback if file doesn't exist — nothing to do
}

% Load rates.tex
\IfFileExists{rates.tex}{%
  \input{rates.tex}%
}{%
  % Silent fallback if file doesn't exist — nothing to do
  % we will error out later anyway
}

\sisetup{
  locale = DE,
  output-decimal-marker = {,},
  group-separator = {.},
  detect-weight = true,
  detect-family = true
}


% Fancy header/footer config
\pagestyle{fancy}
\fancyhf{}
  \lhead{\textbf{\FiDocId}}
  \chead{\textbf{\FiCompanyName}}
  \rhead{\small{Seite \thepage/\pageref{LastPage}}}
  \cfoot{\small{\FiCompanyRegisteredAt \space  · \FiCompanyID \space · \FiUID}}
  \rfoot{}

\fancypagestyle{firstpage}{
  \lhead{\textbf{\FiDocId}}
  \chead{\textbf{\FiCompanyName}}
  \rhead{\small{Seite \thepage/\pageref{LastPage}}}
  \cfoot{\small{\FiCompanyRegisteredAt \space · \FiCompanyID \space · \FiUID}}
  \rfoot{}
}


\newcommand{\grayit}[1]{\textcolor{gray}{\scriptsize\textit{#1}}}

\newcommand{\contactinfo}{%
    \FiCompanyUrl \\
    \FiCompanyEmail \\
}

\begin{document}

\thispagestyle{firstpage}

\renewcommand{\footrulewidth}{0.4pt}

\begin{minipage}[t]{0.40\textwidth}
\raggedright
\vspace{-2.9em}
  \textsc{\FiClientCompany}\\[0.3ex]
  \textbf{\FiClientCareOf}\\[0.3ex]
  \FiClientStreet \\[0.3ex]
  \FiClientAreaCode\space \FiClientCity\\[0.3ex]
  \FiClientCountry \\[0.3ex]
\end{minipage}
\hfill
\begin{minipage}[t]{0.65\textwidth}
\begin{center}
\begin{tabularx}{10cm}{@{}m{3.2cm} >{\raggedright\arraybackslash}X@{}}
\includegraphics[width=4cm]{logo.png} &
\begin{minipage}[t]{\linewidth}
  %\vspace{-2.8em}
  \vspace{-3.5em}
  \small
  \textbf{\FiCompanyName} \\[-0.2em]
  \FiCompanyStreet\\[-0.2ex]
  \FiCompanyAreaCodeCity\\[1.2ex]
  \contactinfo
\end{minipage}
\end{tabularx}
\end{center}
\end{minipage}

% Avoid para indents
\setlength{\parindent}{0pt}
\setlength{\parskip}{0.5em}

% Start of the letter
\vspace{1.5cm}
\null\hfill \FiLetterCityDate \space \FiDate

\vspace{1.5cm}
\textbf{\FiSubject}
\vspace{1cm}

\greeting\\[2ex]
\\
Dies ist ein Brief.



\vspace{2em}
\FiGoodbye \\[2ex]
\FiMyName

\end{document}

