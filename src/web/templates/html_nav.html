
  <a href="#main-content" class="skip-nav">Skip to main content</a>

  <!-- Header Section -->
  <header class="bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-700">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <!-- Company name -->
        <strong class="text-xl font-semibold text-gray-900 dark:text-gray-100 flex-shrink-0">
          {{company}}
        </strong>

        <!-- Desktop nav -->
        <nav role="navigation" aria-label="Main navigation" class="hidden lg:flex items-center gap-x-1 text-sm">
          <a href="/dashboard" data-nav-path="/dashboard" class="px-3 py-2 rounded-md font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Dashboard</a>
          <a href="/invoice" data-nav-path="/invoice" class="px-3 py-2 rounded-md font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Invoices</a>
          <a href="/offer" data-nav-path="/offer" class="px-3 py-2 rounded-md font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Offers</a>
          <a href="/letter" data-nav-path="/letter" class="px-3 py-2 rounded-md font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Letters</a>
          <a href="/client" data-nav-path="/client" class="px-3 py-2 rounded-md font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Clients</a>
          <a href="/rate" data-nav-path="/rate" class="px-3 py-2 rounded-md font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Rate Sets</a>
          <a href="/bank" data-nav-path="/bank" class="px-3 py-2 rounded-md font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Banking</a>
          <a href="/keys" data-nav-path="/keys" class="px-3 py-2 rounded-md font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">API Keys</a>
          <a href="/travel" data-nav-path="/travel" class="px-3 py-2 rounded-md font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Travel Expenses</a>

          <a href="/logout" class="ml-4 px-3 py-2 rounded-md font-medium text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-300 transition-colors duration-200">Logout</a>

          <!-- Dark mode toggle -->
          <button id="theme-toggle" type="button"
                  class="ml-2 text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100 text-xl transition-colors"
                  aria-label="Toggle dark mode" title="Toggle dark mode">
            <span class="dark:hidden">üåô</span>
            <span class="hidden dark:inline">‚òÄÔ∏è</span>
          </button>
        </nav>

        <!-- Mobile: dark mode toggle + hamburger -->
        <div class="flex items-center gap-2 lg:hidden">
          <button id="theme-toggle-mobile" type="button"
                  class="text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100 text-xl transition-colors"
                  aria-label="Toggle dark mode" title="Toggle dark mode">
            <span class="dark:hidden">üåô</span>
            <span class="hidden dark:inline">‚òÄÔ∏è</span>
          </button>
          <button id="mobile-menu-button" type="button"
                  class="inline-flex items-center justify-center p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200"
                  aria-expanded="false" aria-controls="mobile-nav" aria-label="Toggle navigation">
            <!-- Hamburger icon -->
            <svg id="menu-icon-open" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
            <!-- Close icon -->
            <svg id="menu-icon-close" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
      </div>

      <!-- Mobile dropdown menu -->
      <nav id="mobile-nav" role="navigation" aria-label="Mobile navigation" class="hidden lg:hidden pb-4">
        <div class="flex flex-col gap-1">
          <a href="/dashboard" data-nav-path="/dashboard" class="px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Dashboard</a>
          <a href="/invoice" data-nav-path="/invoice" class="px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Invoices</a>
          <a href="/offer" data-nav-path="/offer" class="px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Offers</a>
          <a href="/letter" data-nav-path="/letter" class="px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Letters</a>
          <a href="/client" data-nav-path="/client" class="px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Clients</a>
          <a href="/rate" data-nav-path="/rate" class="px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Rate Sets</a>
          <a href="/bank" data-nav-path="/bank" class="px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Banking</a>
          <a href="/keys" data-nav-path="/keys" class="px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">API Keys</a>
          <a href="/travel" data-nav-path="/travel" class="px-3 py-2 rounded-md text-sm font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200">Travel Expenses</a>
          <hr class="my-2 border-gray-200 dark:border-gray-700" />
          <a href="/logout" class="px-3 py-2 rounded-md text-sm font-medium text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-300 transition-colors duration-200">Logout</a>
        </div>
      </nav>
    </div>
  </header>

  <script>
    // Mobile menu toggle
    (function() {
      var menuBtn = document.getElementById('mobile-menu-button');
      var mobileNav = document.getElementById('mobile-nav');
      var iconOpen = document.getElementById('menu-icon-open');
      var iconClose = document.getElementById('menu-icon-close');
      if (menuBtn && mobileNav) {
        menuBtn.addEventListener('click', function() {
          var expanded = menuBtn.getAttribute('aria-expanded') === 'true';
          menuBtn.setAttribute('aria-expanded', String(!expanded));
          mobileNav.classList.toggle('hidden');
          iconOpen.classList.toggle('hidden');
          iconClose.classList.toggle('hidden');
        });
      }
    })();

    // Theme toggle (both desktop and mobile buttons)
    (function() {
      function toggleTheme() {
        var html = document.documentElement;
        if (html.classList.contains('dark')) {
          html.classList.remove('dark');
          localStorage.theme = 'light';
        } else {
          html.classList.add('dark');
          localStorage.theme = 'dark';
        }
      }
      var dt = document.getElementById('theme-toggle');
      var dtm = document.getElementById('theme-toggle-mobile');
      if (dt) dt.addEventListener('click', toggleTheme);
      if (dtm) dtm.addEventListener('click', toggleTheme);
    })();

    // Active link highlighting
    (function() {
      var path = window.location.pathname;
      var activeClasses = ['bg-blue-100', 'dark:bg-blue-800', 'text-blue-700', 'dark:text-blue-200', 'rounded-md'];
      var inactiveClasses = ['text-gray-600', 'dark:text-gray-300'];
      document.querySelectorAll('a[data-nav-path]').forEach(function(link) {
        var navPath = link.getAttribute('data-nav-path');
        if (path === navPath || path.startsWith(navPath + '/')) {
          inactiveClasses.forEach(function(c) { link.classList.remove(c); });
          activeClasses.forEach(function(c) { link.classList.add(c); });
        }
      });
    })();
  </script>

